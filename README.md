# JWT Аутентификация

Простое веб-приложение с аутентификацией пользователей с использованием JWT токенов.

## Функциональность

- Регистрация пользователей
- Вход в систему
- Доступ к защищенным ресурсам
- JWT аутентификация

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
npm install
```

## Запуск

1. Запустите сервер:
```bash
npm start
```

2. Откройте файл `index.html` в браузере

## Технологии

- Backend: Node.js, Express
- Frontend: HTML, CSS, JavaScript
- Аутентификация: JWT
- Хранение данных: In-memory (для демонстрации)


### Описание приложения:

### 1. Архитектура приложения

Приложение состоит из двух основных частей:
- **Бэкенд** (серверная часть) - написан на Node.js с использованием Express
- **Фронтенд** (клиентская часть) - написан на чистом HTML, CSS и JavaScript

### 2. Бэкенд (server.js)

Серверная часть предоставляет следующие API-эндпоинты:

1. **Регистрация** (`POST /api/register`):
   - Принимает имя пользователя и пароль
   - Проверяет, не существует ли уже такой пользователь
   - Хеширует пароль с помощью bcrypt
   - Сохраняет пользователя в памяти (в массиве `users`)

2. **Вход** (`POST /api/login`):
   - Проверяет учетные данные пользователя
   - При успешной аутентификации генерирует JWT токен
   - Возвращает токен клиенту

3. **Защищенный маршрут** (`GET /api/protected`):
   - Требует валидный JWT токен
   - Возвращает защищенные данные только авторизованным пользователям

### 3. Фронтенд

#### HTML (index.html):
- Содержит две формы:
  1. Форма регистрации:
     - Поле для имени пользователя
     - Поле для пароля
     - Кнопка "Зарегистрироваться"
  
  2. Форма входа:
     - Поле для имени пользователя
     - Поле для пароля
     - Кнопка "Войти"

- Секция защищенного контента:
  - Приветствие пользователя
  - Кнопка для получения защищенных данных
  - Область для отображения защищенных данных
  - Кнопка выхода

#### CSS (styles.css):
- Стилизует все элементы интерфейса
- Делает приложение визуально привлекательным
- Обеспечивает адаптивный дизайн
- Добавляет анимации и эффекты при наведении

#### JavaScript (script.js):
Основные функции:

1. **Управление формами**:
   ```javascript
   function toggleForms() {
       // Переключение между формами регистрации и входа
   }
   ```

2. **Регистрация**:
   ```javascript
   async function handleRegister(event) {
       // Отправка данных на сервер
       // Обработка ответа
       // Показ сообщений об успехе/ошибке
   }
   ```

3. **Вход**:
   ```javascript
   async function handleLogin(event) {
       // Отправка учетных данных
       // Сохранение JWT токена
       // Показ защищенного контента
   }
   ```

4. **Работа с защищенными данными**:
   ```javascript
   async function fetchProtectedData() {
       // Отправка запроса с JWT токеном
       // Отображение полученных данных
   }
   ```

5. **Управление сессией**:
   ```javascript
   function logout() {
       // Удаление токена
       // Возврат к формам входа/регистрации
   }
   ```

### 4. Процесс работы приложения

1. **При первом запуске**:
   - Пользователь видит форму регистрации
   - Может переключиться на форму входа

2. **Регистрация**:
   - Пользователь вводит имя и пароль
   - Данные отправляются на сервер
   - При успехе показывается сообщение и форма входа

3. **Вход**:
   - Пользователь вводит учетные данные
   - Сервер проверяет их и возвращает JWT токен
   - Токен сохраняется в localStorage
   - Показывается защищенный контент

4. **Работа с защищенными данными**:
   - При нажатии на кнопку "Получить данные"
   - Отправляется запрос с JWT токеном
   - Сервер проверяет токен
   - Возвращает защищенные данные

5. **Выход**:
   - Удаляется JWT токен
   - Пользователь возвращается к формам входа/регистрации

### 5. Безопасность

- Пароли хешируются с помощью bcrypt
- Используется JWT для аутентификации
- Защищенные маршруты проверяют валидность токена
- Токен хранится в localStorage браузера

### 6. Особенности реализации

- Хранение пользователей в памяти (для демонстрации)
- Простой и понятный интерфейс
- Обработка ошибок на всех этапах
- Сохранение сессии между перезагрузками страницы

